The convolutional layer can be implemented with different algorithms like im2col+gemm, Winograd, fft, and direct. We are providing the implementations for m2col+gemm and Winograd for the convolutional layer. 


To run with im2col+gemm implementations:

im2col+gemm implementation is a part of the darknet repository and does not require any additional linking.
For this we need to disable the macro of NNPACK from include/darknet.h - comment out #define NNPACK 1
To compile the im2col+gemm implementation, use Makefile_gemm from the makefiles folder.
cp ./makefiles/Makefile_gemm .
Rename Makefile_gemm to Makefile
then use the 'make' command to compile the codes.

To run the command on SPIKE please use



To run with Winograd implementation:
First, make sure to download NNPACKRISCV and build it. Please follow the instructions from README_RISCVV inside the NNPACKRISCV repository to build Winograd implementation for RISC-V Vector architecture.

Note: It is necessary to first build NNPACKRISCV and create the static library 'lib.a' inside the NNPACKRISCV repository. 

cd darknetRISCVV
Step 1: Please enable the macro by uncommenting
#define NNPACK 1  [enable the macro] from include/darknet.h

Step 2: Use Makefile_NNPACK from the makefiles folder to compile the software with Winograd implementation support. Please use 'cp ./makefiles/MAkefile_NNPACK .'  and then Rename Makefile_NNPACK to Makefile using 'mv Makefile_NNPACK Makefile' 
Step 3: Change the compiler Path and Library linking path (NNPACKRISCV/lib.a) in the Makefile if necessary. 
Step 4: Please use the "make" command to compile the software. 
Step 5: This will create the static binary file.  


Execution: 
This executable has been tested with GEM5 and SPIKE. 
With SPIKE: The generated file has been tested with vector lengths from 512-bit to 4096-bit. 
With Gem5: The generated binary file has been tested with 512-bit to 16384-bit. 



Current Limitations: In Winograd implementations, the utilization of full vector length for tuple multiplication is limited up to 4096-bit only due to the block size set as 32. 
